package com.pozatticaique.hrpayroll.config;

public class CustomLoadBalancerClient implements LoadBalancerClient {

    private final ServiceInstanceListSupplier serviceInstanceListSupplier;

    public CustomLoadBalancerClient(String[] serviceUrls) {
        this.serviceInstanceListSupplier = new CollectionServiceInstanceListSupplier(
            Arrays.asList(serviceUrls), ServiceInstanceSupplier.DEFAULT_ORDER);
    }

    @Override
    public ServiceInstance choose(String serviceId) {
        return this.serviceInstanceListSupplier.get().stream()
                .filter(instance -> instance.getServiceId().equals(serviceId))
                .findFirst()
                .orElse(null);
    }

}

}
